<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  </head>
  <body>
    <div id="root"></div>
    <script>
      const port = process.env.PORT || 1212;
      const markup = (src) => `<script defer src="${src}"><\/script>`;
      const scripts = ['renderer'];

      const source =
        process.env.NODE_ENV === 'development'
          ? (name) => `http://localhost:${port}/dist/${name}.dev.js`
          : (name) => `./dist/${name}.prod.js`;

      document.write(scripts.map(source).map(markup).join('\n'));
    </script>
  </body>
</html>
